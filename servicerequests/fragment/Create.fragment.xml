<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified" xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<Dialog id="addDialog" title="Create Service Request">
		<content>
			<VBox class="dialogVbox" width="{= ${device>/system/phone} ? '' : '900px' }">
				<Label text="Title" class="dialogLabel mandatoryLabel" />
				<Input id="createTitle" width="100%" valueStateText="Enter a title" value="{/titleInput}" liveChange="onTitleChange" />
				<Label text="Description" class="dialogLabel mandatoryLabel"/>
				<TextArea id="createDescription" rows="6" width="100%" valueStateText="Enter a description" liveChange="onTextAreaChange" value="{/descriptionInput}"/>
				<Label text="Priority" class="dialogLabel"/>
				<Select id="createPriority" class="dialogLabel" width="100%"
						items="{ServiceRequest>/ServiceRequestServicePriorityCodeCollection}">
					<core:Item key="{ServiceRequest>Code}" text="{ServiceRequest>Description}"/>
				</Select>

				<Label text="Product Category" class="dialogLabel"/>
				<Select id="createProductCategory" class="dialogLabel" width="100%"
						items="{ServiceRequest>/ProductCollection}">
					<core:Item key="{ServiceRequest>ID}" text="{ServiceRequest>Description}"/>
				</Select>

				<Label text="Service Category" class="dialogLabel"/>
				<Select id="createServiceCategory" class="dialogLabel" width="100%"
					change="onServiceCategorySelectCreateFragment"
						items="{ServiceRequest>/ServiceIssueCategoryCatalogueCategoryCollection}">
					<core:Item key="{ServiceRequest>ServiceIssueCategoryID}"
							   text="{ServiceRequest>Name/content}"
							   data:parentObject="{ServiceRequest>ParentObjectID}"/>
				</Select>

				<Label text="Incident Category" class="dialogLabel"/>
				<Select id="createIncidentCategory" class="dialogLabel" width="100%"
						items="{IncidentModel>/results}">
					<core:Item key="{IncidentModel>ServiceIssueCategoryID}"
							   text="{IncidentModel>Name/content}"/>
				</Select>
				<Label text="Attachment" class="dialogLabel"/>
				<u:FileUploader id="createFileUploader" uploadComplete="onUploadComplete" change="onFileChange"/>
			</VBox>
		</content>
		<buttons>
			<Button id="addDialogCreateButton" text="Create" press="onDialogAdd" enabled="{ parts: ['/titleInput', '/descriptionInput'],formatter: '.isCreateTicketEnabled' }"/>
			<Button text="Cancel" press="onDialogCancel"/>

		</buttons>
	</Dialog>
</core:FragmentDefinition>